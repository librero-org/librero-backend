overwrite: true
schema: 'src/**/*.gql'
generates:
  src/generated/graphql.ts:
    plugins:
      - "typescript"
      - "typescript-resolvers"
    config: 
      contextType: ../frameworks-drivers/apollo-server/context#Context
      useIndexSignature: true
      maybeValue: T
      scalars:
        Upload: "Promise<FileUpload>"
    hooks:
      afterOneFileWrite:
        - sed -i '' 's/{}/Record<string, any>/g'
        - sed -i '' '1s/^/\/* eslint-disable @typescript-eslint\/no-explicit-any *\//'
        - sed -i '' '1s/^/import { FileUpload } from \"graphql-upload\";/'
        - eslint --fix
  graphql-schema.graphql:
    plugins:
      - schema-ast
    config:
      includeDirectives: true
